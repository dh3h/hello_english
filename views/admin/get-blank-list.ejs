<%- include('common/head') -%>
  <%- include('common/header'); %>
    <%- include('common/sidebar'); %>

      <div class="content-body">
        <!-- row -->
        <div class="container-fluid">
          <div class="row">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <a href="/admin/get-edit-blank" class="btn btn-primary btn-sm ms-2">+ Add Fill in the Blank</a>
              <div class="d-flex align-items-center">


              </div>
            </div>
            <div class="col-xl-12 active-p">
              <div class="tab-content" id="pills-tabContent">

                <div class="card">
                  <div class="card-body px-0">
                    <div class="table-responsive active-projects user-tbl  dt-filter">
                      <table id="user-tbl" class="table shorting">
                        <thead>
                          <tr>
                            <th>
                              <div class="form-check custom-checkbox ms-0">
                                <input type="checkbox" class="form-check-input" id="checkAll" required="">
                                <label class="form-check-label" for="checkAll"></label>
                              </div>
                            </th>
                            <!-- <th>Phases</th> -->
                            <th>Lesson</th>
                            <th>Questions</th>
                            <th>Type's</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Action</th>

                          </tr>
                        </thead>
                        <tbody>
                          <% Object.keys(f_i_b_list).forEach(function(prop) { %>
                            <tr class="delete_blank_parent">
                              <td>
                                <div class="form-check custom-checkbox">
                                  <input type="checkbox" class="form-check-input" id="customCheckBox5" required="">
                                  <label class="form-check-label" for="customCheckBox5"></label>
                                </div>
                              </td>

                              <td><%- f_i_b_list[prop]['lesson_name'] %></td>
                              <td><%- f_i_b_list[prop]['question'] %></td>

                              <td>
                                <span class="badge badge-primary light border-0 me-1"><%- f_i_b_list[prop]['type_list']
                                    %></span>
                              </td>
                              <td><span class="convert_date"><%- f_i_b_list[prop]['date'] %></span></td>
                              <td>
                                <div class="form-check form-switch">
                                  <input class="form-check-input blank_list_status" data-id="id"
                                    data-col="<%- f_i_b_list[prop]['id'] %>" <% if(f_i_b_list[prop]['status']==1 ){
                                    %>checked<% } %> type="checkbox" id="flexSwitchCheckChecked">

                                </div>
                              </td>
                              <td>
                                <div class="dropdown">
                                  <div class="btn-link" data-bs-toggle="dropdown">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                      xmlns="http://www.w3.org/2000/svg">
                                      <path
                                        d="M11 12C11 12.5523 11.4477 13 12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12Z"
                                        stroke="#737B8B" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                      </path>
                                      <path
                                        d="M18 12C18 12.5523 18.4477 13 19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12Z"
                                        stroke="#737B8B" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                      </path>
                                      <path
                                        d="M4 12C4 12.5523 4.44772 13 5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12Z"
                                        stroke="#737B8B" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                      </path>
                                    </svg>
                                  </div>
                                  <div class="dropdown-menu dropdown-menu-right">
                                    <a class="dropdown-item" href="javascript:void(0);">Edit</a>
                                    <a class="dropdown-item delete_blank" data-id="<%- f_i_b_list[prop]['id'] %>"
                                      href="javascript:void(0);">Delete</a>
                                  </div>
                                </div>
                              </td>
                            </tr>
                            <% }); %>

                        </tbody>

                      </table>
                    </div>
                  </div>
                </div>


              </div>
            </div>
          </div>
        </div>
      </div>

      <%- include('common/footer') -%>
        <%- include('common/script'); %>

          <script>
            status_update('.blank_list_status', 'repo_fill_blank');
            delete_entity('.delete_blank', 'repo_fill_blank', '.delete_blank_parent');

            $(document).ready(function () {
              var table = $('#userListTable').DataTable({
                responsive: true,
                language: {
                  paginate: {
                    next: '<i class="fa fa-angle-double-right" aria-hidden="true"></i>',
                    previous: '<i class="fa fa-angle-double-left" aria-hidden="true"></i>'
                  }
                }
              });

              $('.convert_date').each(function () {
                console.log('hi');
                $(this).text(formatDateTime($(this).text()));
              })
            })
          </script>